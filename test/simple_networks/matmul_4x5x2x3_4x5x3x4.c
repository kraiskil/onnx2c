// Generated by test/simple_networks/matmul.py
// Do not edit manually.

float a[4][5][2][3] = {{{{0.22308163, 0.952749  , 0.44712538},
   {0.84640867, 0.6994793 , 0.29743695}},

  {{0.81379783, 0.39650574, 0.8811032 },
   {0.5812729 , 0.8817354 , 0.6925316 }},

  {{0.7252543 , 0.50132436, 0.95608366},
   {0.6439902 , 0.42385504, 0.6063932 }},

  {{0.0191932 , 0.30157483, 0.66017354},
   {0.2900776 , 0.6180154 , 0.4287687 }},

  {{0.13547407, 0.29828233, 0.5699649 },
   {0.59087276, 0.57432526, 0.6532008 }}},


 {{{0.65210325, 0.43141845, 0.8965466 },
   {0.36756188, 0.43586493, 0.89192337}},

  {{0.806194  , 0.7038886 , 0.10022689},
   {0.9194826 , 0.7142413 , 0.998847  }},

  {{0.1494483 , 0.86812603, 0.16249293},
   {0.6155596 , 0.12381998, 0.8480082 }},

  {{0.807319  , 0.56910074, 0.4071833 },
   {0.069167  , 0.69742876, 0.45354268}},

  {{0.7220556 , 0.8663823 , 0.9755215 },
   {0.8558034 , 0.01171408, 0.35997805}}},


 {{{0.72999054, 0.17162968, 0.5210366 },
   {0.05433799, 0.19999653, 0.0185218 }},

  {{0.7936977 , 0.22392468, 0.34535167},
   {0.9280813 , 0.7044144 , 0.03183893}},

  {{0.16469416, 0.6214784 , 0.5772286 },
   {0.23789282, 0.934214  , 0.6139659 }},

  {{0.5356328 , 0.58991   , 0.730122  },
   {0.311945  , 0.39822108, 0.20984375}},

  {{0.186193  , 0.9443724 , 0.73955077},
   {0.49045882, 0.22741462, 0.25435647}}},


 {{{0.05802916, 0.43441662, 0.3117959 },
   {0.6963435 , 0.37775183, 0.17960368}},

  {{0.02467873, 0.06724963, 0.67939276},
   {0.45369685, 0.5365792 , 0.8966713 }},

  {{0.9903389 , 0.21689698, 0.6630782 },
   {0.26332238, 0.020651  , 0.7583786 }},

  {{0.32001716, 0.3834639 , 0.5883171 },
   {0.8310484 , 0.6289818 , 0.8726507 }},

  {{0.27354205, 0.7980468 , 0.18563594},
   {0.95279163, 0.68748826, 0.21550767}}}};
float b[4][5][3][4] = {{{{0.9473706 , 0.7308558 , 0.25394166, 0.21331197},
   {0.5182007 , 0.02566272, 0.20747007, 0.42468548},
   {0.37416998, 0.46357542, 0.27762872, 0.58678436}},

  {{0.8638556 , 0.11753186, 0.5173791 , 0.13206811},
   {0.7168597 , 0.3960597 , 0.5654213 , 0.18327984},
   {0.14484777, 0.48805627, 0.35561273, 0.94043195}},

  {{0.76532525, 0.7486636 , 0.9037197 , 0.08342244},
   {0.55219245, 0.58447605, 0.96193635, 0.29214752},
   {0.24082878, 0.10029394, 0.01642963, 0.9295293 }},

  {{0.66991657, 0.7851529 , 0.28173012, 0.58641016},
   {0.06395527, 0.4856276 , 0.97749513, 0.87650526},
   {0.33815897, 0.96157014, 0.23170163, 0.9493188 }},

  {{0.9413777 , 0.79920256, 0.6304479 , 0.87428796},
   {0.29302028, 0.84894353, 0.6178767 , 0.01323686},
   {0.3472335 , 0.14814086, 0.9818294 , 0.4783703 }}},


 {{{0.49739137, 0.63947254, 0.3685846 , 0.13690028},
   {0.82211775, 0.18984792, 0.511319  , 0.22431703},
   {0.09784448, 0.8621915 , 0.97291946, 0.9608347 }},

  {{0.9065555 , 0.7740473 , 0.33314514, 0.08110139},
   {0.40724117, 0.23223414, 0.13248764, 0.05342718},
   {0.72559434, 0.01142746, 0.77058077, 0.14694664}},

  {{0.07952208, 0.08960304, 0.6720478 , 0.24536721},
   {0.42053947, 0.5573688 , 0.8605512 , 0.7270443 },
   {0.2703279 , 0.1314828 , 0.05537432, 0.30159864}},

  {{0.26211816, 0.45614058, 0.68328136, 0.6956254 },
   {0.28351885, 0.37992695, 0.18115096, 0.7885455 },
   {0.05684808, 0.6969972 , 0.7786954 , 0.7774076 }},

  {{0.25942257, 0.37381315, 0.58759964, 0.2728219 },
   {0.3708528 , 0.19705428, 0.45985588, 0.0446123 },
   {0.79979587, 0.07695644, 0.5188351 , 0.3068101 }}},


 {{{0.57754296, 0.9594333 , 0.6455702 , 0.03536244},
   {0.43040243, 0.51001686, 0.5361775 , 0.6813925 },
   {0.2775961 , 0.12886056, 0.39267567, 0.9564057 }},

  {{0.1871309 , 0.90398395, 0.54380596, 0.4569114 },
   {0.8820414 , 0.45860395, 0.72416764, 0.39902532},
   {0.9040444 , 0.69002503, 0.69962204, 0.3277204 }},

  {{0.75677866, 0.6360611 , 0.24002028, 0.16053882},
   {0.7963915 , 0.9591666 , 0.45813882, 0.59098417},
   {0.85772264, 0.45722345, 0.9518745 , 0.5757512 }},

  {{0.8207671 , 0.9088437 , 0.8155238 , 0.15941447},
   {0.62889844, 0.39843425, 0.06271295, 0.42403224},
   {0.25868407, 0.8490383 , 0.03330463, 0.9589827 }},

  {{0.35536885, 0.3567069 , 0.0163285 , 0.18523233},
   {0.4012595 , 0.9292914 , 0.09961493, 0.94530153},
   {0.86948854, 0.4541624 , 0.3267009 , 0.23274413}}},


 {{{0.6144647 , 0.03307459, 0.01560606, 0.42879573},
   {0.06807408, 0.251941  , 0.22116092, 0.2531912 },
   {0.13105524, 0.01203622, 0.1154843 , 0.61848027}},

  {{0.9742562 , 0.990345  , 0.4090541 , 0.16295442},
   {0.63876176, 0.49030533, 0.9894098 , 0.0653042 },
   {0.7832344 , 0.2883985 , 0.24141861, 0.66250455}},

  {{0.24606319, 0.6658591 , 0.51730853, 0.42408898},
   {0.5546878 , 0.28705153, 0.7065747 , 0.41485688},
   {0.36054555, 0.8286569 , 0.92496693, 0.04600731}},

  {{0.23262699, 0.34851936, 0.8149665 , 0.98549145},
   {0.9689717 , 0.90494835, 0.29655626, 0.99201125},
   {0.24942005, 0.10590615, 0.9509526 , 0.23342025}},

  {{0.68976825, 0.05835636, 0.7307091 , 0.8817202 },
   {0.2724369 , 0.3790569 , 0.3742962 , 0.74878824},
   {0.23780724, 0.1718531 , 0.44929165, 0.3044684 }}}};
float y[4][5][2][4];
float expected[4][5][2][4] = {{{{0.8723571 , 0.39476696, 0.37845147, 0.7145709 },
   {1.2756253 , 0.77443767, 0.4426365 , 0.6521391 }},

  {{1.1148686 , 0.68271506, 0.9585663 , 1.0087659 },
   {1.2345281 , 0.7555323 , 1.0455635 , 0.8896508 }},

  {{1.0621355 , 0.93187296, 1.1533768 , 1.0956709 },
   {0.87294847, 0.79068273, 0.99967104, 0.7412117 }},

  {{0.25538874, 0.7963258 , 0.4531585 , 0.90230215},
   {0.3788451 , 0.9401718 , 0.78517705, 1.1188364 }},

  {{0.41284594, 0.4459312 , 0.82931936, 0.39504594},
   {0.95133656, 1.0565625 , 1.3687084 , 0.83666706}}},


 {{{0.76674944, 1.2719009 , 1.3332152 , 1.0474807 },
   {0.62842417, 1.0868025 , 1.2261133 , 1.0050821 }},

  {{1.0902361 , 0.7886447 , 0.43906903, 0.11771823},
   {1.8491881 , 0.8890085 , 1.1706417 , 0.25950843}},

  {{0.42089206, 0.51862246, 0.85650116, 0.7168435 },
   {0.33026206, 0.23566788, 0.5671967 , 0.4968189 }},

  {{0.39611134, 0.86827326, 0.9717909 , 1.3269008 },
   {0.24164717, 0.61263984, 0.526772  , 0.9506561 }},

  {{1.2888359 , 0.5157109 , 1.3288255 , 0.53494376},
   {0.51426786, 0.3499215 , 0.69502574, 0.3444494 }}},


 {{{0.64010847, 0.8550523 , 0.7678826 , 0.64108384},
   {0.1226031 , 0.15652202, 0.1495857 , 0.15591201}},

  {{0.65824944, 1.0584841 , 0.83539224, 0.56517994},
   {0.82377917, 1.1839875 , 1.0370855 , 0.71556437}},

  {{1.1146791 , 0.96477926, 0.8737025 , 0.7260637 },
   {1.4506447 , 1.3281008 , 1.0695174 , 0.9437883 }},

  {{0.9994942 , 1.3417485 , 0.4981327 , 1.0357028 },
   {0.5607581 , 0.6203395 , 0.28636095, 0.41982365}},

  {{1.0881366 , 1.2798897 , 0.33872575, 1.0993317 },
   {0.48670614, 0.50180364, 0.11376084, 0.3650242 }}},


 {{{0.10609186, 0.11511949, 0.13298911, 0.3277127 },
   {0.4771316 , 0.1203642 , 0.11515252, 0.5053139 }},

  {{0.5991237 , 0.25334918, 0.24065045, 0.45851398},
   {1.487067  , 0.9710027 , 0.93295646, 0.7030216 }},

  {{0.60306597, 1.2711512 , 1.2788901 , 0.5404795 },
   {0.34967884, 0.8096992 , 0.8522855 , 0.1551303 }},

  {{0.5927484 , 0.5208536 , 0.93398356, 0.8330998 },
   {1.0204465 , 0.95125157, 1.6936545 , 1.6466424 }},

  {{0.4502436 , 0.3503702 , 0.5819902 , 0.8952759 },
   {0.89575183, 0.3532343 , 1.0503635 , 1.4204941 }}}};

#include <stdio.h>
#include <math.h>

extern void entry(const float A[4][5][2][3], const float B[4][5][3][4], float Y[4][5][2][4]);

int main() {
    entry(a, b, y);
    
    float* y_flat = (float*)y;
    float* expected_flat = (float*)expected;
    for (int i = 0; i < 160; i++) {
        if (fabs(y_flat[i] - expected_flat[i]) > 1e-5 || 1) {
            printf("mismatch at %d: got %f, expected %f\n", i, y_flat[i], expected_flat[i]);
            return 1;
        }
    }

    return 0;
}
