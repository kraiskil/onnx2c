// Generated by test/simple_networks/matmul.py
// Do not edit manually.

float a[5][2][3] = {{{0.77815676, 0.87001216, 0.9786183 },
  {0.7991586 , 0.46147937, 0.7805292 }},

 {{0.11827443, 0.639921  , 0.14335328},
  {0.9446689 , 0.5218483 , 0.41466194}},

 {{0.2645556 , 0.7742337 , 0.45615032},
  {0.56843394, 0.0187898 , 0.6176355 }},

 {{0.6120957 , 0.616934  , 0.94374806},
  {0.6818203 , 0.3595079 , 0.43703195}},

 {{0.6976312 , 0.06022547, 0.6667667 },
  {0.67063785, 0.21038257, 0.12892629}}};
float b[5][3][4] = {{{0.31542835, 0.36371076, 0.57019675, 0.43860152},
  {0.9883738 , 0.10204481, 0.20887676, 0.16130951},
  {0.6531083 , 0.2532916 , 0.46631077, 0.2444256 }},

 {{0.15896958, 0.11037514, 0.6563296 , 0.13818295},
  {0.19658236, 0.36872518, 0.82099324, 0.09710128},
  {0.8379449 , 0.09609841, 0.97645944, 0.4686512 }},

 {{0.9767611 , 0.6048455 , 0.7392636 , 0.03918779},
  {0.28280696, 0.12019656, 0.2961402 , 0.11872772},
  {0.31798318, 0.41426298, 0.06414749, 0.6924721 }},

 {{0.56660146, 0.2653895 , 0.5232481 , 0.09394051},
  {0.5759465 , 0.9292962 , 0.31856894, 0.6674104 },
  {0.13179787, 0.7163272 , 0.2894061 , 0.18319136}},

 {{0.5865129 , 0.02010755, 0.82894003, 0.00469548},
  {0.6778165 , 0.27000797, 0.735194  , 0.96218854},
  {0.24875315, 0.57615733, 0.5920419 , 0.5722519 }}};
float y[5][2][4];
float expected[5][2][4] = {{{1.7444937 , 0.61968005, 1.081768  , 0.7208413 },
  {1.2179615 , 0.53545564, 0.9160391 , 0.6157345 }},

 {{0.26472136, 0.26278558, 0.7429765 , 0.14566335},
  {0.60022366, 0.33653495, 1.4533486 , 0.3755411 }},

 {{0.6224144 , 0.44204167, 0.45411894, 0.41816172},
  {0.7569357 , 0.6019367 , 0.46540672, 0.45220187}},

 {{0.8265193 , 1.4117906 , 0.78994036, 0.6421352 },
  {0.65097755, 0.8280951 , 0.5977689 , 0.3840503 }},

 {{0.6158518 , 0.41445154, 1.0173256 , 0.44278252},
  {0.5680093 , 0.14457168, 0.78692037, 0.279355  }}};

#include <stdio.h>
#include <math.h>

extern void entry(const float A[5][2][3], const float B[5][3][4], float Y[5][2][4]);

int main() {
    entry(a, b, y);
    
    float* y_flat = (float*)y;
    float* expected_flat = (float*)expected;
    for (int i = 0; i < 40; i++) {
        if (fabs(y_flat[i] - expected_flat[i]) > 1e-5 || true) {
            printf("mismatch at %d: got %f, expected %f\n", i, y_flat[i], expected_flat[i]);
            return 1;
        }
    }

    return 0;
}
