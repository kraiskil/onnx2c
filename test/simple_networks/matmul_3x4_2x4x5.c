// Generated by test/simple_networks/matmul.py
// Do not edit manually.

float a[3][4] = {{0.7400975 , 0.68051445, 0.6223844 , 0.7105284 },
 {0.20492369, 0.3416981 , 0.6762425 , 0.8792348 },
 {0.54367805, 0.28269964, 0.03023526, 0.7103368 }};
float b[2][4][5] = {{{0.0078841 , 0.37267908, 0.5305372 , 0.92211145, 0.08949455},
  {0.40594232, 0.0243132 , 0.34261099, 0.62223107, 0.27906793},
  {0.20974995, 0.11570323, 0.5771403 , 0.69527   , 0.67195714},
  {0.948861  , 0.00270321, 0.64719665, 0.6003922 , 0.58873963}},

 {{0.96277034, 0.01687167, 0.6964824 , 0.8136786 , 0.50980717},
  {0.33396488, 0.79084015, 0.09724293, 0.44203565, 0.51995236},
  {0.69395643, 0.09088573, 0.2277595 , 0.41030157, 0.62329465},
  {0.8869608 , 0.61882615, 0.13346148, 0.98058015, 0.87178576}}};
float y[2][3][5];
float expected[2][3][5] = {{{1.0868224 , 0.36629692, 1.4448557 , 1.9652104 , 1.0926764 },
  {1.1164389 , 0.16529876, 1.1851137 , 1.3996345 , 1.0857428 },
  {0.7993989 , 0.21490929, 0.86247504, 1.1247386 , 0.5660689 }},

 {{2.0019305 , 1.0469242 , 0.8182223 , 1.8551085 , 1.7384995 },
  {1.5605392 , 0.8792403 , 0.44731808, 1.4574083 , 1.4701409 },
  {1.2688717 , 0.67506593, 0.5078417 , 1.2762902 , 1.0622683 }}};

#include <stdio.h>
#include <math.h>

extern void entry(const float A[3][4], const float B[2][4][5], float Y[2][3][5]);

int main() {
    entry(a, b, y);
    
    float* y_flat = (float*)y;
    float* expected_flat = (float*)expected;
    for (int i = 0; i < 30; i++) {
        if (fabs(y_flat[i] - expected_flat[i]) > 1e-5 || 1) {
            printf("mismatch at %d: got %f, expected %f\n", i, y_flat[i], expected_flat[i]);
            return 1;
        }
    }

    return 0;
}
